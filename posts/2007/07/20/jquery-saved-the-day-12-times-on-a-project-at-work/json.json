{"relativePath":"/posts/2007/07/20/jquery-saved-the-day-12-times-on-a-project-at-work","comments":"","pubDate":"2007-07-20T11:50:00-04:00","title":"jQuery Saved The Day 12 Times On A Project At Work","subtitle":"","intro":"","categories":["tech"],"body":"&lt;p&gt;We&#x27;ve recently delivered a brand guidelines web site for CompanyX. I was documenting some of the useful JavaScript snippets that were used on our company&#x27;s wiki today, when I realized just how many times &lt;a href=&quot;http://jquery.com/&quot;&gt;jQuery&lt;/a&gt; &quot;saved the day&quot; on this project. Here they are in no particular order:&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;#1 In CSS, &lt;code&gt;:hover&lt;/code&gt; doesn&#x27;t work in IE6 on a &lt;code&gt;dt&lt;/code&gt;, so we just added a custom function:&lt;/dt&gt;&lt;dd&gt;&lt;pre&gt;$(&quot;#relatedfaqs dt&quot;).hover(function()  {    $(this).css(&quot;text-decoration&quot;, &quot;underline&quot;);  },  function ()  {    $(this).css(&quot;text-decoration&quot;, &quot;none&quot;);  });&lt;/pre&gt;&lt;/dd&gt;&lt;dt&gt;#2 The site&#x27;s primary nav&#x27;s drop-down menus had z-index issues, so I just moved it to be last in the HTML:&lt;/dt&gt;&lt;dd&gt;&lt;pre&gt;$(&quot;#primary-nav&quot;).appendTo(&quot;#footer&quot;);&lt;/pre&gt;&lt;/dd&gt;&lt;dt&gt;#3 Certain tool links needed to open in new appropriately sized windows globally across the site, regardless of where the links appeared:&lt;/dt&gt;&lt;dd&gt;&lt;pre&gt;$(&quot;a[@href$=&#x27;chooselogo/default.aspx&#x27;]&quot;).click(function()  {    window.open(this.href, null, &#x27;width=840,height=540,resizable=yes,scrollbars=yes,status=yes&#x27;);    return false;  });$(&quot;a[@href$=&#x27;createad/default.aspx&#x27;]&quot;).click(function()  {    window.open(this.href, null, &#x27;width=840,height=655,resizable=yes,scrollbars=yes,status=yes&#x27;);    return false;  });&lt;/pre&gt;&lt;/dd&gt;&lt;dt&gt;#4 The site was going live in 10 minutes and we just realized that the &quot;Email This Page&quot; functionality has never been programmed:&lt;/dt&gt;&lt;dd&gt;&lt;pre&gt;$(&quot;a[@title=&#x27;Email Page&#x27;]&quot;).attr(&quot;href&quot;,&quot;mailto:?subject=&quot; + escape(&quot;Join the Brand network&quot;) + &quot;&amp;amp;body=&quot; + escape(document.title + &quot;:\n\nhttp://www.companyx.com&quot; + window.location.pathname + window.location.search));&lt;/pre&gt;&lt;/dd&gt;&lt;dt&gt;#5 The enter key needed to submit on all search fields, regardless of where the .Net search form was nested:&lt;/dt&gt;&lt;dd&gt;&lt;pre&gt; $(&quot;input[@id$=txtSearch]&quot;).keydown(function(e)  {    if (e.keyCode == 10 || e.keyCode == 13)    {      $(&quot;input[@id$=butSearch]&quot;).click();      return false;    }  });&lt;/pre&gt;&lt;/dd&gt;&lt;dt&gt;#6 IE had difficulties printing multi-column layout pages without cropping them, we needed to break before the columns and &lt;code&gt;page-break-before&lt;/code&gt; CSS wasn&#x27;t working correctly:&lt;/dt&gt;&lt;dd&gt;&lt;pre&gt;$(&quot;#middle #content div.column&quot;).prev(&quot;p&quot;).css(&quot;page-break-after&quot;, &quot;always&quot;);&lt;/pre&gt;&lt;/dd&gt;&lt;dt&gt;#7 We needed easy way for global &quot;close window&quot; buttons:&lt;/dt&gt;&lt;dd&gt;&lt;pre&gt; $(&quot;a.close, input.close, button.close&quot;).click(function()  {    window.close();    return false;  });&lt;/pre&gt;&lt;/dd&gt;&lt;dt&gt;#8 I needed to fix a &lt;/dt&gt;&lt;del&gt;bug&lt;/del&gt;FEATURE in .Net repeaters that contain radio buttons:&lt;dd&gt;&lt;pre&gt; $(&quot;fieldset.repeater input:radio&quot;).click(function()  {    $(this).parents(&quot;fieldset.repeater&quot;).find(&quot;input:radio[@checked]&quot;).attr(&quot;checked&quot;, &quot;&quot;).end();    this.checked = &quot;checked&quot;;  });&lt;/pre&gt;&lt;/dd&gt;&lt;dt&gt;#9 Safari 2.x (2.xx is actually build 4xx) had issues with a DHTML photo gallery on home page:&lt;/dt&gt;&lt;dd&gt;&lt;pre&gt;if ($.browser.safari &amp;amp;&amp;amp; (navigator.appVersion.indexOf(&quot;Safari/4&quot;) &amp;gt;= 0)){  $(&quot;#scroll-bar&quot;).css(&quot;margin-top&quot;, &quot;-335px&quot;);}&lt;/pre&gt;&lt;/dd&gt;&lt;dt&gt;#10 Captions in the DHTML photo gallery were supposed to be the same width as the images, even though each image had a different width:&lt;/dt&gt;&lt;dd&gt;&lt;pre&gt;$(&quot;img.galleryImage&quot;).load(function()  {    $(&quot;p.galleryCaption&quot;).css(&quot;width&quot;, this.offsetWidth + &quot;px&quot;);  });&lt;/pre&gt;&lt;/dd&gt;&lt;dt&gt;#11 We needed to set class for certain black and white images in one of the tools&lt;/dt&gt;&lt;dd&gt;&lt;pre&gt;if ($(&quot;#review-container img:eq(0)&quot;).attr(&quot;src&quot;).match(/\/bw\//)){  $(&quot;#review-container&quot;).append(&quot;&amp;lt;div class=&#x27;bw&#x27;&amp;gt;&amp;lt;/div&amp;gt;&quot;);  $(&quot;#review-container img&quot;).css(&quot;margin-left&quot;, &quot;1px&quot;);}&lt;/pre&gt;&lt;/dd&gt;&lt;dt&gt;#12 We were also contracted out to fix some bugs on their intranet. A certain page had serious JS issues in non-IE browsers.&lt;/dt&gt;&lt;dd&gt;Using jQuery the 518 original lines of code were reduced to 370, the file size was reduced by 4KB and the new code worked across all browsers.&lt;/dd&gt;&lt;/dl&gt;&lt;p&gt;#4 was my favorite since it literally saved my day, plus it just goes to show how little that stupid feature is used. All in all the &lt;code&gt;$()&lt;/code&gt; function was used &lt;strong&gt;216&lt;/strong&gt; times in the CompanyX brand guidelines project. I think that the &lt;a href=&quot;http://www.visualjquery.com/&quot;&gt;Visual jQuery&lt;/a&gt; guide and the &lt;a href=&quot;http://jquery.com/docs/Base/Expression/CSS/&quot;&gt;CSS/XPath Selector reference&lt;/a&gt; were the most useful to me during this project. Thanks jQuery!&lt;/p&gt;","enclosures":[],"source":{"url":"","title":""},"changefreq":"never","priority":"0.1","bodyArticleHtml":"<hgroup><h3><time datetime=\"2007-07-20T15:50:00.000Z\" pubdate=\"pubdate\">2007-07-20</time></h3><h1><a href=\"http://travis.servebeer.com/posts/2007/07/20/jquery-saved-the-day-12-times-on-a-project-at-work\">jQuery Saved The Day 12 Times On A Project At Work</a></h1><h2></h2></hgroup><p>We've recently delivered a brand guidelines web site for CompanyX. I was documenting some of the useful JavaScript snippets that were used on our company's wiki today, when I realized just how many times <a href="http:<dl><dt>#1InCSS,<code>:hover</code>doesn'tworkinIE6ona<code>dt</code>,sowejustaddedacustomfunction:</dt><dd><pre>$("#relatedfaqs dt").hover(function(){$(this).css("text-decoration","underline");},function(){$(this).css("text-decoration","none");});</pre></dd><dt>#2Thesite'sprimarynav'sdrop-downmenushadz-indexissues,soIjustmovedittobelastintheHTML:</dt><dd><pre>$("#primary-nav").appendTo("#footer");</pre></dd><dt>#3Certaintoollinksneededtoopeninnewappropriatelysizedwindowsgloballyacrossthesite,regardlessofwherethelinksappeared:</dt><dd><pre>$("a[@href$='chooselogo/default.aspx']").click(function(){window.open(this.href,null,'width=840,height=540,resizable=yes,scrollbars=yes,status=yes');returnfalse;});$("a[@href$='createad/default.aspx']").click(function(){window.open(this.href,null,'width=840,height=655,resizable=yes,scrollbars=yes,status=yes');returnfalse;});</pre></dd><dt>#4Thesitewasgoinglivein10minutesandwejustrealizedthatthe"Email This Page"functionalityhasneverbeenprogrammed:</dt><dd><pre>$("a[@title='Email Page']").attr("href","mailto:?subject="+escape("Join the Brand network")+"&amp;body="+escape(document.title+":\n\nhttp://www.companyx.com"+window.location.pathname+window.location.search));</pre></dd><dt>#5Theenterkeyneededtosubmitonallsearchfields,regardlessofwherethe.Netsearchformwasnested:</dt><dd><pre>$("input[@id$=txtSearch]").keydown(function(e){if(e.keyCode==10||e.keyCode==13){$("input[@id$=butSearch]").click();returnfalse;}});</pre></dd><dt>#6IEhaddifficultiesprintingmulti-columnlayoutpageswithoutcroppingthem,weneededtobreakbeforethecolumnsand<code>page-break-before</code>CSSwasn'tworkingcorrectly:</dt><dd><pre>$("#middle #content div.column").prev("p").css("page-break-after","always");</pre></dd><dt>#7Weneededeasywayforglobal"close window"buttons:</dt><dd><pre>$("a.close, input.close, button.close").click(function(){window.close();returnfalse;});</pre></dd><dt>#8Ineededtofixa</dt><del>bug</del>FEATUREin.Netrepeatersthatcontainradiobuttons:<dd><pre>$("fieldset.repeater input:radio").click(function(){$(this).parents("fieldset.repeater").find("input:radio[@checked]").attr("checked","").end();this.checked="checked";});</pre></dd><dt>#9Safari2.x(2.xxisactuallybuild4xx)hadissueswithaDHTMLphotogalleryonhomepage:</dt><dd><pre>if($.browser.safari&amp;&amp;(navigator.appVersion.indexOf("Safari/4")&gt;=0)){$("#scroll-bar").css("margin-top","-335px");}</pre></dd><dt>#10CaptionsintheDHTMLphotogalleryweresupposedtobethesamewidthastheimages,eventhougheachimagehadadifferentwidth:</dt><dd><pre>$("img.galleryImage").load(function(){$("p.galleryCaption").css("width",this.offsetWidth+"px");});</pre></dd><dt>#11Weneededtosetclassforcertainblackandwhiteimagesinoneofthetools</dt><dd><pre>if($("#review-container img:eq(0)").attr("src").match(/\/bw\{$("#review-container").append("&lt;div class='bw'&gt;&lt;/div&gt;");$("#review-container img").css("margin-left","1px");}</pre></dd><dt>#12Wewerealsocontractedouttofixsomebugsontheirintranet.AcertainpagehadseriousJSissuesinnon-IEbrowsers.</dt><dd>UsingjQuerythe518originallinesofcodewerereducedto370,thefilesizewasreducedby4KBandthenewcodeworkedacrossallbrowsers.</dd></dl><p>#4wasmyfavoritesinceitliterallysavedmyday,plusitjustgoestoshowhowlittlethatstupidfeatureisused.Allinallthe<code>$()</code>functionwasused<strong>216</strong>timesintheCompanyXbrandguidelinesproject.Ithinkthatthe<ahref="http://www.visualjquery.com/">VisualjQuery</a>guideandthe<ahref="http://jquery.com/docs/Base/Expression/CSS/">CSS/XPathSelectorreference</a>werethemostusefultomeduringthisproject.ThanksjQuery!</p>",	"bodyNavItems": [								{									"pageRel": "prev",								"href": "/posts/2007/08/27/killface-2008",				"text": "Killface2008"			}					, 			{									"pageRel": "prev",								"href": "/posts/2007/08/13/smells-like-bigfoot-s-remote-control",				"text": "SmellsLikeBigfoot&#x27;sRemoteControl"			}					, 			{									"pageRel": "self",								"href": "/posts/2007/07/20/jquery-saved-the-day-12-times-on-a-project-at-work",				"text": "jQuerySavedTheDay12TimesOnAProjectAtWork"			}					, 			{									"pageRel": "next",								"href": "/posts/2007/07/19/vote",				"text": "Vote"			}					, 			{								"href": "/posts/2007/06/18/what-american-accent-do-you-have",				"text": "WhatAmericanaccentdoyouhave?"			}			]}