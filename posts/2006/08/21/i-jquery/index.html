<!DOCTYPE html><html lang="en-us" class="no-js"><head><meta name="viewport" content="width=device-width"/><title>I $(&quot;♥&quot;) jQuery</title><meta name="description" content="[object Object]"/><meta name="author" content="Travis Hardiman"/><meta name="copyright" content="© Travis Hardiman, et al. 1979-2079."/><link rel="stylesheet" href="/s/mainPNX.css"/><link rel="canonical" href="http://travis.servebeer.com/posts/2006/08/21/i-jquery"/><link rel="alternate" type="application/rss+xml" title="RSS" href="http://travis.servebeer.com/rss.rss"/><link rel="alternate" type="application/atom+xml" title="Atom" href="http://travis.servebeer.com/atom.atom"/><script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script></head><body><header><hgroup><h1><a href="/" rel="home">traviblog</a></h1><h2>the enterprising blog with the home-made touch</h2></hgroup></header><main><article><hgroup><h3><time datetime="2006-08-21T23:39:00.000Z" pubdate="pubdate">2006-08-21</time></h3><h1><a href="/posts/2006/08/21/i-jquery">I $("♥") jQuery</a></h1><h2></h2></hgroup><p>I got a bunch of typography guidelines for a site from one of our designers today which contained the following rule:</p><blockquote><p>First line of paragraph gets a 10 pixel indent (except for first paragraph on page and paragraph following a subhead)</p></blockquote><p>I hate disappointing our designers with technical hurdles so I though that I'd give it a shot. Since the <a href="http://www.w3.org/TR/REC-CSS2/selector.html#adjacent-selectors">adjacent sibling selectors</a> and <a href="http://www.w3.org/TR/REC-CSS2/selector.html#first-child">:first-child pseudo-class</a> aren't supported well by many browsers, *COUGH*IE6*COUGH* I let out a sigh and started adding <code>class="first"</code> on all the first paragraphs in the HTML example templates I was testing with. I thought: there has GOT to be a better way to do this with <a href="http://jquery.com/">jQuery</a>. I can't imagine what it would take to dynamically add those classes in the CMS we're making for this site anyways. I had this CSS:</p><pre>
#content p
{
	text-indent: 10px;
}
</pre><p>I then added this JS:</p><pre>
$(document).ready(function()
	{
		// reset h1+p, h2+p, h3+p, p:first-child
		$("#content h1+p, #content h2+p, #content h3+p, #content p:first-child").each(function (i) 
			{
				$(this).css("text-indent", "0");
			}
		);
	}
);
</pre><p>...and voila! It works like a charm! Now instead of massacring markup with needless (and painful to add on the fly) classes, I can just do the crazy stuff with jQuery.</p><p><strong>Update:</strong> <a href="http://ejohn.org/">John</a> pointed out that my JS can be even shorter:</p><pre>
$(document).ready(function()
	{
		// reset h1+p, h2+p, h3+p, p:first-child
		$("#content").find("h1+p, h2+p, h3+p, p:first-child").css("text-indent", "0");
	}
);
</pre></article></main><nav><h2>Other Stuff</h2><ul><li><a href="/posts/2006/10/25/general-electric-s-hardiman" rel="prev">General Electric&#x27;s Hardiman</a></li><li><a href="/posts/2006/09/05/new-vs-old-digital-cameras" rel="prev">New vs Old Digital Cameras</a></li><li><a href="/posts/2006/08/21/i-jquery" rel="self">I $(&quot;♥&quot;) jQuery</a></li><li><a href="/posts/2006/08/15/martial-arts-proven-to-be-just-as-awesome-as-it-looks" rel="next">Martial Arts Proven To Be Just As Awesome As It Looks</a></li><li><a href="/posts/2006/08/08/sideways-loving-wine-enthusiasts-should-generally-be-punched-in-the-mouth">&quot;Sideways&quot;-loving wine enthusiasts should generally be punched in the mouth</a></li><li><a href="/posts" rel="archives">Archive</a></li><li><a href="/about" rel="about">About</a></li></ul><h3>Folks</h3><ul><li><a href="http://ern.me/" rel="friend met co-worker colleague" title="Ern is my co-worker">Ern</a></li><li><a href="http://www.larryroth.net/" rel="friend met co-worker colleague" title="Larry is my boss">Larry</a></li><li><a href="http://ralphwhitbeck.com/" rel="friend met" title="Ralph is a former co-worker">Ralph</a></li><li><a href="http://sherrybdesign.com/" rel="friend met co-resident spouse sweetheart" title="Sherry is a Graphic Designer and my wife">Sherry</a></li></ul><h3>Work-related</h3><ul><li><a href="http://brandlogic.com/" title="Brandlogic is where I work">Brandlogic</a></li><li><a href="http://www.corebrand.com/" title="CoreBrand is a full service brand consultancy">CoreBrand</a></li><li><a href="http://www.tapdash.net/" title="TapDash, made by Brandlogic, is a real-time view of customer experience">TapDash</a></li></ul></nav><div id="comments"><a id="disqus_comments" href="/posts/2006/08/21/i-jquery#disqus_thread">Comments</a><div id="archived_comments"><h2>Archived Comments</h2><table><thead><tr><th>name</th><th>date</th><th>comment</th></tr></thead><tbody><tr><td><a href="http://www.missingpenny.com"><img src="http://www.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?s=32&d=retro&r=r" class="gravatar" alt="Adam Lindsay gravatar"/> Adam Lindsay </a></td><td><time datetime="2006-08-22T00:45:00.000Z" pubdate="pubdate">2006-08-21 08:45</time></td><td>That is cool, of course, it shouldn't have to be done this way. Especially considering you are now poorly mixing layers, that could easily be missed in the future. Some future maintainer of the site will be wonder and saying "I can't figure out what these paragraphs don't indent, when clearly the CSS says 10px".<br/><br/>Anyways, good code, I have been meaning too check out JQuery, just Prototype/Scriptalicous is so entrenched in Rails, I have had little reason to look at other libraries.<br/></td></tr><tr><td><a href="http://ejohn.org/"><img src="http://www.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?s=32&d=retro&r=r" class="gravatar" alt="John Resig gravatar"/> John Resig </a></td><td><time datetime="2006-08-22T01:13:00.000Z" pubdate="pubdate">2006-08-21 09:13</time></td><td>Glad you're having fun with it :-)<br/><br/>Just to make your code a little bit shorter:<br/>$("#content").find("h1+p,h2+p,h3+p,p:first-child").css("text-indent",0);<br/><br/>Keep up the great work!<br/><br/>@Adam: You should definitely check out jQuery... it's written by some cool people - ha!</td></tr><tr><td><a href="http://travis.servebeer.com/blog.net/"><img src="http://www.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?s=32&d=retro&r=r" class="gravatar" alt="travis gravatar"/> travis </a></td><td><time datetime="2006-08-22T01:14:00.000Z" pubdate="pubdate">2006-08-21 09:14</time></td><td>Oh I definitely agree that this is very hackish. But I can't force IE to work correctly and I certainly can't force people to upgrade (as much as I'd like to). Plus I won't have to wait for CSS3 to come out of draft and for browsers to implement its features (as far as the new advanced selectors go).<br/><br/>For other programmers blessed/cursed with maintaining my code, that's what /*comments*/ are for. ;-)<br/><br/>Definitely check out jQuery though. It's so damn useful. If only for the $(document).ready() and the $() in general.</td></tr><tr><td><a href="http://travis.servebeer.com/blog.net/"><img src="http://www.gravatar.com/avatar/d41d8cd98f00b204e9800998ecf8427e?s=32&d=retro&r=r" class="gravatar" alt="travis gravatar"/> travis </a></td><td><time datetime="2006-08-22T01:14:00.000Z" pubdate="pubdate">2006-08-21 09:14</time></td><td>Sweet! Thanks John!</td></tr></tbody></table></div><div id="disqus_thread"></div><p><a href="//disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></p></div><footer><h2>© Travis Hardiman, et al. 1979-2079.</h2><p>>All puns intentional even if stated otherwise, all posts are owned by their respective owners, any code posted is public domain unless stated otherwise</p></footer><div id="weather"></div><script src="//code.jquery.com/jquery-2.1.0.min.js"></script><script src="/j/mainPNc.js"></script></body></html>