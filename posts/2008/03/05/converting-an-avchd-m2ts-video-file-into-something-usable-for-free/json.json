{"relativePath":"/posts/2008/03/05/converting-an-avchd-m2ts-video-file-into-something-usable-for-free","comments":"[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object],[object Object]","pubDate":"2008-03-05T19:42:00-05:00","title":"Converting an AVCHD M2TS Video File Into Something Usable (for free!)","subtitle":"","intro":"","categories":["tech"],"body":"&lt;p&gt;The Corel software that came with my new &lt;a href=&quot;http://www.flickr.com/photos/diesel_travis/2262254654/&quot;&gt;Canon HG10&lt;/a&gt; made burning a video DVD or an AVCHD DVD a snap. Unfortunately, it came with nothing that would transcode the video files into more commonly supported formats like MP4 (or AVI) so that they can be easily edited and/or uploaded to sites like &lt;a href=&quot;http://www.vimeo.com/hd&quot;&gt;Vimeo&lt;/a&gt; (or Youtube or whatever). I tried a bunch of different apps (FFmpeg, Mencoder, Avidemux, MediaCoder all FAIL) but this process worked the best for me.&lt;/p&gt;&lt;h2&gt;Downloads&lt;/h2&gt;&lt;p&gt;Three basic things needed to download:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;a href=&quot;http://www.codecguide.com/download_mega.htm&quot;&gt;K-Lite Mega Pack&lt;/a&gt; - when installing, make sure that as many of the following plugins are checked as possible (it seems like they&#x27;re often renamed or removed): AC3, AAC, M2TS, AVCHD, x.264, h264, MP4, M4A, Mpeg4, Haali. You may not need all of the Codecs in this install, but better safe than sorry&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://sourceforge.net/project/showfiles.php?group_id=57023&amp;amp;package_id=72557&amp;amp;release_id=366702&quot;&gt;AviSynth&lt;/a&gt; - download and install normally&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://sourceforge.net/project/showfiles.php?group_id=156112&amp;amp;package_id=174059&amp;amp;release_id=559463&quot;&gt;MeGui&lt;/a&gt; - after downloading and installing: &lt;ul&gt;  &lt;li&gt;go directly to Options - Update, after updating, go there again to be sure you got them all&lt;/li&gt;  &lt;li&gt;I imported all profiles that it gave me the option to, but if you want to make it easy on yourself, you can import the settings that I use: &lt;a href=&quot;http://travis.servebeer.com/megui-travis.zip&quot;&gt;megui-travis.zip (3 KB)&lt;/a&gt;, just go File - Import Profiles, and select the zip file with my settings&lt;/li&gt;  &lt;li&gt;make sure in Options - Settings - Program Paths, that everything is correct, for me most apps were set to a subfolder of the MeGui install, but the AviSynth path had to be set to its own folder&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ol&gt;&lt;h2&gt;Config&lt;/h2&gt;&lt;p&gt;After opening my M2TS video file in MeGui, here&#x27;s the settings that worked for me:&lt;/p&gt;&lt;fieldset&gt;&lt;legend&gt;travis1.avs  - AviSynth Script&lt;/legend&gt;&lt;pre&gt;DirectShowSource(&quot;T:\video\20080211\one.M2TS&quot;,fps=29.9700898503294,audio=false)AssumeTFF().FieldDeinterlace()LanczosResize(1280,720) # Lanczos (Sharp)&lt;/pre&gt;&lt;/fieldset&gt;&lt;p&gt;These might just be specific to the &lt;strong&gt;HG10&lt;/strong&gt;, but its native video needed to be deinterlaced using the &lt;strong&gt;FieldDeinterlace&lt;/strong&gt; and it was set to &lt;strong&gt;top field first&lt;/strong&gt;, whatever that means, you can find those settings out by hitting the &lt;strong&gt;Analyze&lt;/strong&gt; button if you don&#x27;t have a HG10 (or if you just don&#x27;t trust me). The frame rate was set to 30/1001(29.97)fps for NTSC, and here I am resizing it from 1440x1080 to &lt;strong&gt;1280x720&lt;/strong&gt; for a Vimeo 16:9 HD upload. You&#x27;ll probably want to set it to the native resolution if you plan on doing a bunch of crazy editing. Be sure to hit the &lt;strong&gt;Save&lt;/strong&gt; button and rename it to something else.&lt;/p&gt;&lt;p&gt;Then the other video settings:&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;AviSynth Script (above, or whatever you saved your own settings as)&lt;/dt&gt;&lt;dd&gt;T:\video\travis1.avs&lt;/dd&gt;&lt;dt&gt;Video Output&lt;/dt&gt;&lt;dd&gt;T:\video\20080211\one-v.mp4&lt;/dd&gt;&lt;dt&gt;Video Profile&lt;/dt&gt;&lt;dd&gt;travis1&lt;/dd&gt;&lt;/dl&gt;&lt;p&gt;The &lt;strong&gt;travis1&lt;/strong&gt; video profile sets the Codec to &lt;strong&gt;x264&lt;/strong&gt;, format to &lt;strong&gt;MP4&lt;/strong&gt;, and bitrate to &lt;strong&gt;5000&lt;/strong&gt;, everything else I left at its defaults. If you make any changes, I&#x27;d recommend saving them to new profiles since it makes it so much easier to tweak the settings.&lt;/p&gt;&lt;p&gt;Here&#x27;s the audio settings:&lt;/p&gt;&lt;dl&gt;&lt;dt&gt;Audio Input (this is the same file as I selected in the File ? Open command above)&lt;/dt&gt;&lt;dd&gt;T:\video\20080211\one.M2TS&lt;/dd&gt;&lt;dt&gt;Audio Output&lt;/dt&gt;&lt;dd&gt;T:\video\20080211\one-a.mp4&lt;/dd&gt;&lt;dt&gt;Audio Profile&lt;/dt&gt;&lt;dd&gt;travis2&lt;/dd&gt;&lt;/dl&gt;&lt;p&gt;The Codec that worked for me is &lt;strong&gt;FAAC&lt;/strong&gt; and extension is &lt;strong&gt;MP4-AAC&lt;/strong&gt; with a &lt;strong&gt;128&lt;/strong&gt; bitrate.&lt;/p&gt;&lt;h2&gt;Go!&lt;/h2&gt;&lt;p&gt;Now just hit the &lt;strong&gt;AutoEncode&lt;/strong&gt; button. The only things I change on this screen is the filename, the Average bitrate (&lt;strong&gt;5000&lt;/strong&gt; again), and then I just hit &lt;strong&gt;Queue&lt;/strong&gt;.&lt;/p&gt;&lt;p&gt;Switch over to the Queue tab in MeGui&#x27;s main window. Click on the &lt;strong&gt;New worker&lt;/strong&gt; button in the lower right. (isn&#x27;t this hard core? *wink*) Then highlight everything in the queue and send it to the worker you&#x27;ve created. This can be useful if you have a sweet multi-core machine and want to encode a bunch of different files at the same time. When you&#x27;re ready to go, switch over to the worker window and hit &lt;strong&gt;Start&lt;/strong&gt;.&lt;/p&gt;&lt;p&gt;Once your new &lt;strong&gt;MP4&lt;/strong&gt; (or AVI or whatever you&#x27;re exporting to) file is rendered then you can go nuts and edit it with whatever you want or just upload it.&lt;/p&gt;","enclosures":[],"source":{"url":"","title":""},"changefreq":"never","priority":"0.1","bodyArticleHtml":"<hgroup><h3><time datetime=\"2008-03-06T00:42:00.000Z\" pubdate=\"pubdate\">2008-03-05</time></h3><h1><a href=\"http://dieseltravis.github.io/posts/2008/03/05/converting-an-avchd-m2ts-video-file-into-something-usable-for-free\">Converting an AVCHD M2TS Video File Into Something Usable (for free!)</a></h1><h2></h2></hgroup><p>The Corel software that came with my new <a href="http:<h2>Downloads</h2><p>Threebasicthingsneededtodownload:</p><ol><li><ahref="http://www.codecguide.com/download_mega.htm">K-LiteMegaPack</a>-wheninstalling,makesurethatasmanyofthefollowingpluginsarecheckedaspossible(itseemslikethey'reoftenrenamedorremoved):AC3,AAC,M2TS,AVCHD,x.264,h264,MP4,M4A,Mpeg4,Haali.YoumaynotneedalloftheCodecsinthisinstall,butbettersafethansorry</li><li><ahref="http://sourceforge.net/project/showfiles.php?group_id=57023&amp;package_id=72557&amp;release_id=366702">AviSynth</a>-downloadandinstallnormally</li><li><ahref="http://sourceforge.net/project/showfiles.php?group_id=156112&amp;package_id=174059&amp;release_id=559463">MeGui</a>-afterdownloadingandinstalling:<ul><li>godirectlytoOptions-Update,afterupdating,gothereagaintobesureyougotthemall</li><li>Iimportedallprofilesthatitgavemetheoptionto,butifyouwanttomakeiteasyonyourself,youcanimportthesettingsthatIuse:<ahref="http://travis.servebeer.com/megui-travis.zip">megui-travis.zip(3KB)</a>,justgoFile-ImportProfiles,andselectthezipfilewithmysettings</li><li>makesureinOptions-Settings-ProgramPaths,thateverythingiscorrect,formemostappsweresettoasubfolderoftheMeGuiinstall,buttheAviSynthpathhadtobesettoitsownfolder</li></ul></li></ol><h2>Config</h2><p>AfteropeningmyM2TSvideofileinMeGui,here'sthesettingsthatworkedforme:</p><fieldset><legend>travis1.avs-AviSynthScript</legend><pre>DirectShowSource("T:\video\20080211\one.M2TS",fps=29.9700898503294,audio=false)AssumeTFF().FieldDeinterlace()LanczosResize(1280,720)#Lanczos(Sharp)</pre></fieldset><p>Thesemightjustbespecifictothe<strong>HG10</strong>,butitsnativevideoneededtobedeinterlacedusingthe<strong>FieldDeinterlace</strong>anditwassetto<strong>topfieldfirst</strong>,whateverthatmeans,youcanfindthosesettingsoutbyhittingthe<strong>Analyze</strong>buttonifyoudon'thaveaHG10(orifyoujustdon'ttrustme).Theframeratewassetto30/1001(29.97)fpsforNTSC,andhereIamresizingitfrom1440x1080to<strong>1280x720</strong>foraVimeo16:9HDupload.You'llprobablywanttosetittothenativeresolutionifyouplanondoingabunchofcrazyediting.Besuretohitthe<strong>Save</strong>buttonandrenameittosomethingelse.</p><p>Thentheothervideosettings:</p><dl><dt>AviSynthScript(above,orwhateveryousavedyourownsettingsas)</dt><dd>T:\video\travis1.avs</dd><dt>VideoOutput</dt><dd>T:\video\20080211\one-v.mp4</dd><dt>VideoProfile</dt><dd>travis1</dd></dl><p>The<strong>travis1</strong>videoprofilesetstheCodecto<strong>x264</strong>,formatto<strong>MP4</strong>,andbitrateto<strong>5000</strong>,everythingelseIleftatitsdefaults.Ifyoumakeanychanges,I'drecommendsavingthemtonewprofilessinceitmakesitsomucheasiertotweakthesettings.</p><p>Here'stheaudiosettings:</p><dl><dt>AudioInput(thisisthesamefileasIselectedintheFile?Opencommandabove)</dt><dd>T:\video\20080211\one.M2TS</dd><dt>AudioOutput</dt><dd>T:\video\20080211\one-a.mp4</dd><dt>AudioProfile</dt><dd>travis2</dd></dl><p>TheCodecthatworkedformeis<strong>FAAC</strong>andextensionis<strong>MP4-AAC</strong>witha<strong>128</strong>bitrate.</p><h2>Go!</h2><p>Nowjusthitthe<strong>AutoEncode</strong>button.TheonlythingsIchangeonthisscreenisthefilename,theAveragebitrate(<strong>5000</strong>again),andthenIjusthit<strong>Queue</strong>.</p><p>SwitchovertotheQueuetabinMeGui'smainwindow.Clickonthe<strong>Newworker</strong>buttoninthelowerright.(isn'tthishardcore?*wink*)Thenhighlighteverythinginthequeueandsendittotheworkeryou'vecreated.Thiscanbeusefulifyouhaveasweetmulti-coremachineandwanttoencodeabunchofdifferentfilesatthesametime.Whenyou'rereadytogo,switchovertotheworkerwindowandhit<strong>Start</strong>.</p><p>Onceyournew<strong>MP4</strong>(orAVIorwhateveryou'reexportingto)fileisrenderedthenyoucangonutsandedititwithwhateveryouwantorjustuploadit.</p>",	"bodyNavItems": [								{								"href": "/posts/2008/03/29/prk",				"text": "PRK"			}					, 			{									"pageRel": "prev",								"href": "/posts/2008/03/14/hope-change",				"text": "HOPE/CHANGE"			}					, 			{									"pageRel": "self",								"href": "/posts/2008/03/05/converting-an-avchd-m2ts-video-file-into-something-usable-for-free",				"text": "ConvertinganAVCHDM2TSVideoFileIntoSomethingUsable(forfree!)"			}					, 			{									"pageRel": "next",								"href": "/posts/2008/02/05/can-t-get-enough-travis",				"text": "Can&#x27;tgetenoughTravis?"			}					, 			{								"href": "/posts/2008/01/10/e-lec-tri-city",				"text": "E-lec-tri-city!"			}			]}