{"relativePath":"/posts/2008/05/21/javascript-is-just-as-easy-as-ruby-even-without-jquery","comments":"[object Object],[object Object]","pubDate":"2008-05-21T20:02:00-04:00","title":"JavaScript is just as easy as Ruby (even without jQuery!)","subtitle":"","intro":"","categories":["tech"],"body":"&lt;p&gt;Ernie sent &lt;a href=&quot;http://project.ioni.st/post/2169#snippet_2169&quot;&gt;this ruby snippet&lt;/a&gt; and marveled at its brilliant simplicity:&lt;/p&gt;&lt;pre&gt;class Date    def at_some_point      (at_midnight..tomorrow.at_midnight).to_a.rand    end end Date.today.at_some_point # =&amp;gt; Tue May 21 10:23:00 -0500 2008 Date.today.at_some_point # =&amp;gt; Tue May 21 02:10:00 -0500 2008 Date.today.at_some_point # =&amp;gt; Tue May 21 18:28:00 -0500 2008 Date.today.at_some_point # =&amp;gt; Tue May 21 07:25:00 -0500 2008&lt;/pre&gt;&lt;p&gt;I recalled using &lt;code&gt;Date.prototype&lt;/code&gt; in JavaScript in the past to add some &lt;a href=&quot;http://www.refactormycode.com/codes/38-go-back-to-yesterday#refactor_164&quot;&gt;helpful date functions&lt;/a&gt;, so I thought I&#x27;d see if I could write a similar function just as elegantly:&lt;/p&gt;&lt;pre&gt;Date.prototype.atSomePoint = function() {    return new Date(rand(this.atMidnight().valueOf(), this.tomorrow().atMidnight().valueOf()));};new Date().atSomePoint();   \\ Wed May 21 2008 06:33:28 GMT-0400 (Eastern Daylight Time)new Date().atSomePoint();   \\ Wed May 21 2008 12:57:13 GMT-0400 (Eastern Daylight Time)new Date().atSomePoint();   \\ Wed May 21 2008 08:37:44 GMT-0400 (Eastern Daylight Time)&lt;/pre&gt;&lt;p&gt;Unfortunately &lt;code&gt;.atMidnight()&lt;/code&gt; and &lt;code&gt;.tomorrow()&lt;/code&gt; don&#x27;t exist in JavaScript&#x27;s Date object by default (that I know of), so I had to write those helpers as well as a random number helper, &lt;code&gt;rand()&lt;/code&gt;:&lt;/p&gt;&lt;pre&gt;Date.prototype.atMidnight = function() {    this.setHours(0);    this.setMinutes(0);    this.setSeconds(0);    return this;};Date.prototype.tomorrow = function() {    this.setDate(this.getDate() + 1);    return this;};function rand(lowerBound, upperBound) {    return Math.floor((upperBound - (lowerBound - 1)) * Math.random()) + lowerBound;}&lt;/pre&gt;&lt;p&gt;While I probably would never find a use for &lt;code&gt;.atSomePoint()&lt;/code&gt;, it certainly was easy enough to write.&lt;/p&gt;","enclosures":[],"source":{"url":"","title":""},"changefreq":"never","priority":"0.1","bodyArticleHtml":"<hgroup><h3><time datetime=\"2008-05-22T00:02:00.000Z\" pubdate=\"pubdate\">2008-05-21</time></h3><h1><a href=\"http://dieseltravis.github.io/posts/2008/05/21/javascript-is-just-as-easy-as-ruby-even-without-jquery\">JavaScript is just as easy as Ruby (even without jQuery!)</a></h1><h2></h2></hgroup><p>Ernie sent <a href="http:<pre>classDatedefat_some_point(at_midnight..tomorrow.at_midnight).to_a.randendendDate.today.at_some_point#=&gt;TueMay2110:23:00-05002008Date.today.at_some_point#=&gt;TueMay2102:10:00-05002008Date.today.at_some_point#=&gt;TueMay2118:28:00-05002008Date.today.at_some_point#=&gt;TueMay2107:25:00-05002008</pre><p>Irecalledusing<code>Date.prototype</code>inJavaScriptinthepasttoaddsome<ahref="http://www.refactormycode.com/codes/38-go-back-to-yesterday#refactor_164">helpfuldatefunctions</a>,soIthoughtI'dseeifIcouldwriteasimilarfunctionjustaselegantly:</p><pre>Date.prototype.atSomePoint=function(){returnnewDate(rand(this.atMidnight().valueOf(),this.tomorrow().atMidnight().valueOf()));};newDate().atSomePoint();\\WedMay21200806:33:28GMT-0400(EasternDaylightTime)newDate().atSomePoint();\\WedMay21200812:57:13GMT-0400(EasternDaylightTime)newDate().atSomePoint();\\WedMay21200808:37:44GMT-0400(EasternDaylightTime)</pre><p>Unfortunately<code>.atMidnight()</code>and<code>.tomorrow()</code>don'texistinJavaScript'sDateobjectbydefault(thatIknowof),soIhadtowritethosehelpersaswellasarandomnumberhelper,<code>rand()</code>:</p><pre>Date.prototype.atMidnight=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);returnthis;};Date.prototype.tomorrow=function(){this.setDate(this.getDate()+1);returnthis;};functionrand(lowerBound,upperBound){returnMath.floor((upperBound-(lowerBound-1))*Math.random())+lowerBound;}</pre><p>WhileIprobablywouldneverfindausefor<code>.atSomePoint()</code>,itcertainlywaseasyenoughtowrite.</p>",	"bodyNavItems": [								{									"pageRel": "prev",								"href": "/posts/2008/07/16/replacing-notepad-with-notepad-2-on-xp-sp3-the-easiest-way-possible",				"text": "ReplacingNotepadwithNotepad2onXPSP3,theeasiestwaypossible"			}					, 			{									"pageRel": "prev",								"href": "/posts/2008/07/16/so-that-s-what-happened-to-doogie-howser-m-d",				"text": "SoThat&#x27;sWhatHappenedToDoogieHowser,M.D."			}					, 			{									"pageRel": "self",								"href": "/posts/2008/05/21/javascript-is-just-as-easy-as-ruby-even-without-jquery",				"text": "JavaScriptisjustaseasyasRuby(evenwithoutjQuery!)"			}					, 			{									"pageRel": "next",								"href": "/posts/2008/05/19/top-3-vista-features-that-fail",				"text": "Top3VistaFeaturesthatFAIL"			}					, 			{								"href": "/posts/2008/03/29/prk",				"text": "PRK"			}			]}