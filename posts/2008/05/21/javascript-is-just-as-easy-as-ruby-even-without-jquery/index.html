<!doctype html><html lang="en-us" class="no-js"><head><meta name="viewport" content="width=device-width"/><title>JavaScript is just as easy as Ruby (even without jQuery!)</title><meta name="description" content="[object Object]"/><meta name="author" content="Travis Hardiman"/><meta name="copyright" content="© Travis Hardiman, et al. 1979-2079."/><link rel="stylesheet" href="/s/mainT.a.css"/><link rel="canonical" href="http://dieseltravis.github.io/posts/2008/05/21/javascript-is-just-as-easy-as-ruby-even-without-jquery"/><link rel="alternate" type="application/rss+xml" title="RSS" href="http://dieseltravis.github.io/rss.rss"/><link rel="alternate" type="application/atom+xml" title="Atom" href="http://dieseltravis.github.io/atom.atom"/></head><body><header><hgroup><h1><a href="/" rel="home">traviblog</a></h1><h2>the enterprising blog with the home-made touch</h2></hgroup></header><main><article><hgroup><h3><time datetime="2008-05-22T00:02:00.000Z" pubdate="pubdate">2008-05-21</time></h3><h1><a href="/posts/2008/05/21/javascript-is-just-as-easy-as-ruby-even-without-jquery">JavaScript is just as easy as Ruby (even without jQuery!)</a></h1><h2></h2></hgroup><p>Ernie sent <a href="http://project.ioni.st/post/2169#snippet_2169">this ruby snippet</a> and marveled at its brilliant simplicity:</p><pre>
class Date  
  def at_some_point  
    (at_midnight..tomorrow.at_midnight).to_a.rand  
  end 
end 

Date.today.at_some_point # =&gt; Tue May 21 10:23:00 -0500 2008 
Date.today.at_some_point # =&gt; Tue May 21 02:10:00 -0500 2008 
Date.today.at_some_point # =&gt; Tue May 21 18:28:00 -0500 2008 
Date.today.at_some_point # =&gt; Tue May 21 07:25:00 -0500 2008
</pre><p>I recalled using <code>Date.prototype</code> in JavaScript in the past to add some <a href="http://www.refactormycode.com/codes/38-go-back-to-yesterday#refactor_164">helpful date functions</a>, so I thought I'd see if I could write a similar function just as elegantly:</p><pre>
Date.prototype.atSomePoint = function() {
    return new Date(rand(this.atMidnight().valueOf(), this.tomorrow().atMidnight().valueOf()));
};

new Date().atSomePoint();   \\ Wed May 21 2008 06:33:28 GMT-0400 (Eastern Daylight Time)
new Date().atSomePoint();   \\ Wed May 21 2008 12:57:13 GMT-0400 (Eastern Daylight Time)
new Date().atSomePoint();   \\ Wed May 21 2008 08:37:44 GMT-0400 (Eastern Daylight Time)
</pre><p>Unfortunately <code>.atMidnight()</code> and <code>.tomorrow()</code> don't exist in JavaScript's Date object by default (that I know of), so I had to write those helpers as well as a random number helper, <code>rand()</code>:</p><pre>
Date.prototype.atMidnight = function() {
    this.setHours(0);
    this.setMinutes(0);
    this.setSeconds(0);
    return this;
};

Date.prototype.tomorrow = function() {
    this.setDate(this.getDate() + 1);
    return this;
};

function rand(lowerBound, upperBound) {
    return Math.floor((upperBound - (lowerBound - 1)) * Math.random()) + lowerBound;
}
</pre><p>While I probably would never find a use for <code>.atSomePoint()</code>, it certainly was easy enough to write.</p></article></main><nav><h2>Other Stuff</h2><ul><li><a href="/posts/2008/07/16/replacing-notepad-with-notepad-2-on-xp-sp3-the-easiest-way-possible">Replacing Notepad with Notepad 2 on XP SP3, the easiest way possible</a></li><li><a href="/posts/2008/07/16/so-that-s-what-happened-to-doogie-howser-m-d" rel="prev">So That&#x27;s What Happened To Doogie Howser, M.D.</a></li><li><a href="/posts/2008/05/21/javascript-is-just-as-easy-as-ruby-even-without-jquery" rel="self">JavaScript is just as easy as Ruby (even without jQuery!)</a></li><li><a href="/posts/2008/05/19/top-3-vista-features-that-fail" rel="next">Top 3 Vista Features that FAIL</a></li><li><a href="/posts/2008/03/29/prk">PRK</a></li><li><a href="/posts" rel="archives">Archive</a></li><li><a href="/about" rel="about">About</a></li></ul><h3>Folks</h3><ul><li><a href="http://ern.me/" rel="friend met co-worker colleague" title="Ern is my co-worker">Ern</a></li><li><a href="http://www.larryroth.net/" rel="friend met co-worker colleague" title="Larry is my boss">Larry</a></li><li><a href="http://ralphwhitbeck.com/" rel="friend met" title="Ralph is a former co-worker">Ralph</a></li><li><a href="http://sherrybdesign.com/" rel="friend met co-resident spouse sweetheart" title="Sherry is a Graphic Designer and my wife">Sherry</a></li></ul><h3>Work-related</h3><ul><li><a href="http://brandlogic.com/" title="Brandlogic is where I work">Brandlogic</a></li><li><a href="http://www.corebrand.com/" title="CoreBrand is a full service brand consultancy">CoreBrand</a></li><li><a href="http://www.tapdash.net/" title="TapDash, made by Brandlogic, is a real-time view of customer experience">TapDash</a></li></ul></nav><div id="comments"><a id="disqus_comments" href="/posts/2008/05/21/javascript-is-just-as-easy-as-ruby-even-without-jquery#disqus_thread">Comments</a><div id="archived_comments"><h2>Archived Comments</h2><table><thead><tr><th>name</th><th>date</th><th>comment</th></tr></thead><tbody><tr><td><a href="http://www.nextfeature.com">Adam Lindsay </a></td><td><time datetime="2008-05-22T09:54:00.000Z" pubdate="pubdate">2008-05-22 05:54</time></td><td>Any modern language should be able to produce functionality that any other language can. Just because Javascript is capable of it, doesn't make it as simple, easy or elegant. I have been impressed with JavaScript lately and the advances the libraries have taken it. JQuery of course comes to the top of that list.<br/><br/>In 5 lines though, Ernie was able to mixin the function straight to the Date class. Took you 16 lines and an external library. Not only that but Javascripts syntax is littered with parens, semicolons, and declarations like return and new.<br/><br/>This might be a small example, but in terms of cost, you just showed me that it takes Javascript 3x as long. Not only that, but with the heavier syntax, any modifications will add additional time to track down what is exactly going on. Imagine this on a much larger scale.<br/><br/>Just as Easy? Thats certainly debatable.</td></tr><tr><td><a href="http://travis.servebeer.com/blog.net/">travis </a></td><td><time datetime="2008-05-28T20:33:00.000Z" pubdate="pubdate">2008-05-28 04:33</time></td><td>No external libraries were used or are necessary for that JS code to work. Date.prototype extends the native JavaScript Date class to add the new functions.<br/><br/>The main advantage is that anyone who's ever worked with any ECMAScript-based language (C++, JScript, Java, C#, J#, etc...) can understand what's going on in JavaScript, not so in Ruby.<br/><br/>Imagining it on a much larger scale, how many ECMAScript-based language devs are out there vs Ruby devs? also: Ruby scales? Also, it will run on any OS with a graphical web-browser.</td></tr></tbody></table></div><div id="disqus_thread"></div><p><a href="//disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a></p></div><footer><h2>© Travis Hardiman, et al. 1979-2079.</h2><p>All puns intentional even if stated otherwise, all posts are owned by their respective owners, any code posted is public domain unless stated otherwise</p></footer><div id="weather"></div><script src="//code.jquery.com/jquery-2.1.0.min.js"></script><script src="/j/mainT.g.js"></script></body></html>